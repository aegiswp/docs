---
title: "REST API"
description: "REST API endpoints for Aegis and companion plugins"
---

## Overview

Aegis and its companion plugins expose REST API endpoints for programmatic access to theme data.

## Aegis Docs REST API

The Aegis Docs plugin registers endpoints under the `aegis-docs/v1` namespace.

### List Documents

```
GET /wp-json/aegis-docs/v1/docs
```

Returns all published documentation pages.

**Parameters:**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `per_page` | integer | 10 | Results per page |
| `page` | integer | 1 | Page number |
| `orderby` | string | `menu_order` | Sort field |
| `order` | string | `asc` | Sort direction |

**Response:**

```json
[
  {
    "id": 42,
    "title": "Getting Started",
    "slug": "getting-started",
    "excerpt": "Learn how to set up Aegis...",
    "content": "...",
    "parent": 0,
    "menu_order": 1,
    "spaces": ["user-guide"],
    "children_count": 3,
    "link": "https://example.com/docs/getting-started/"
  }
]
```

### Get Single Document

```
GET /wp-json/aegis-docs/v1/docs/{id}
```

Returns a single documentation page by ID.

### Get Document Children

```
GET /wp-json/aegis-docs/v1/docs/{id}/children
```

Returns child pages of a specific document.

### List Spaces

```
GET /wp-json/aegis-docs/v1/spaces
```

Returns all documentation spaces (taxonomy terms).

**Response:**

```json
[
  {
    "id": 5,
    "name": "User Guide",
    "slug": "user-guide",
    "description": "End-user documentation",
    "count": 24
  }
]
```

### Get Space Documents

```
GET /wp-json/aegis-docs/v1/spaces/{slug}/docs
```

Returns all documents within a specific space.

### Search

```
GET /wp-json/aegis-docs/v1/search
```

Search documentation content.

**Parameters:**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `s` | string | — | Search query (required) |
| `space` | string | — | Filter by space slug |
| `per_page` | integer | 10 | Results per page |
| `page` | integer | 1 | Page number |

**Response:**

```json
[
  {
    "id": 42,
    "title": "Getting Started",
    "excerpt": "...matching content excerpt...",
    "link": "https://example.com/docs/getting-started/",
    "space": "user-guide"
  }
]
```

## Aegis Pro REST API

### Save Video Preferences

```
POST /wp-json/aegis-pro/v1/video/preferences
```

Saves user video playback preferences (volume, speed).

**Parameters:**

| Parameter | Type | Description |
|-----------|------|-------------|
| `video_id` | string | Video identifier |
| `volume` | number | Volume level (0–1) |
| `speed` | number | Playback speed |

For logged-in users, preferences are stored in `user_meta`. For anonymous users, preferences are stored in cookies (30-day expiry).

### Get Meta Keys

```
GET /wp-json/aegis-pro/v1/video/bindings/meta-keys
```

Returns available meta keys for dynamic video source binding.

### Get Computed Metadata

```
GET /wp-json/aegis-pro/v1/video/bindings/metadata/{post_id}
```

Returns computed metadata (duration, dimensions, filesize, format, bitrate) for a video field.

## Authentication

- **Public endpoints** (GET) — No authentication required
- **Write endpoints** (POST) — Require authentication via cookie, application password, or JWT
- **User-specific endpoints** — Require the current user to be logged in

## Using the API

### JavaScript (Fetch)

```js
const response = await fetch( '/wp-json/aegis-docs/v1/docs' );
const docs = await response.json();
```

### JavaScript (wp.apiFetch)

```js
const docs = await wp.apiFetch( { path: '/aegis-docs/v1/docs' } );
```

### PHP (Internal)

```php
$request  = new WP_REST_Request( 'GET', '/aegis-docs/v1/docs' );
$response = rest_do_request( $request );
$data     = $response->get_data();
```
