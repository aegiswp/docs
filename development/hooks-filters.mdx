---
title: "Hooks & Filters"
description: "WordPress hooks and filters available in Aegis"
---

## Overview

Aegis provides hooks and filters for customization without modifying core theme files.

## Theme Updater

### aegis_theme_updater_config

Configure the GitHub-based theme updater:

```php
add_filter('aegis_theme_updater_config', function($config) {
    return [
        'repo' => 'aegiswp/theme',
        'slug' => 'aegis',
    ];
});
```

## Block Filters

### render_block

Modify any block's output:

```php
add_filter('render_block', function($content, $block) {
    // Modify block content
    return $content;
}, 10, 2);
```

### render_block_{block_name}

Target specific blocks:

```php
add_filter('render_block_core/image', function($content, $block) {
    // Only affects image blocks
    return $content;
}, 10, 2);
```

## Template Filters

### template_include

Modify template selection:

```php
add_filter('template_include', function($template) {
    if (is_singular('portfolio')) {
        $custom = locate_template('templates/single-portfolio.html');
        if ($custom) {
            return $custom;
        }
    }
    return $template;
});
```

## Asset Filters

### wp_enqueue_scripts

Add custom styles and scripts:

```php
add_action('wp_enqueue_scripts', function() {
    wp_enqueue_style(
        'custom-styles',
        get_stylesheet_directory_uri() . '/assets/css/custom.css',
        [],
        '1.0.0'
    );
});
```

### enqueue_block_assets

Add assets for both editor and frontend:

```php
add_action('enqueue_block_assets', function() {
    wp_enqueue_style(
        'block-styles',
        get_stylesheet_directory_uri() . '/assets/css/blocks.css'
    );
});
```

### enqueue_block_editor_assets

Add editor-only assets:

```php
add_action('enqueue_block_editor_assets', function() {
    wp_enqueue_script(
        'editor-scripts',
        get_stylesheet_directory_uri() . '/assets/js/editor.js',
        ['wp-blocks', 'wp-element'],
        '1.0.0',
        true
    );
});
```

## Theme Setup

### after_setup_theme

Initialize theme features:

```php
add_action('after_setup_theme', function() {
    // Add theme support
    add_theme_support('custom-feature');
    
    // Register nav menus
    register_nav_menus([
        'primary' => __('Primary Menu', 'aegis-child'),
    ]);
});
```

## Pattern Filters

### register_block_pattern

Modify pattern registration:

```php
add_action('init', function() {
    // Unregister a pattern
    unregister_block_pattern('aegis/pattern-name');
    
    // Register custom pattern
    register_block_pattern('aegis-child/custom', [
        'title' => 'Custom Pattern',
        'content' => '<!-- blocks -->',
    ]);
});
```

## Block Style Filters

### init (Block Styles)

Register and unregister block styles:

```php
add_action('init', function() {
    // Register style
    register_block_style('core/button', [
        'name' => 'custom',
        'label' => __('Custom', 'aegis-child'),
    ]);
    
    // Unregister style
    unregister_block_style('core/button', 'outline');
});
```

## Theme.json Filters

### wp_theme_json_data_theme

Modify theme.json programmatically:

```php
add_filter('wp_theme_json_data_theme', function($theme_json) {
    $data = $theme_json->get_data();
    
    // Modify data
    $data['settings']['color']['palette'][] = [
        'name' => 'Dynamic Color',
        'slug' => 'dynamic',
        'color' => get_option('brand_color', '#000000'),
    ];
    
    return $theme_json->update_with($data);
});
```

## Common Customizations

### Add Body Classes

```php
add_filter('body_class', function($classes) {
    if (is_front_page()) {
        $classes[] = 'home-page';
    }
    return $classes;
});
```

### Modify Excerpt Length

```php
add_filter('excerpt_length', function($length) {
    return 20; // words
});
```

### Custom Login Logo

```php
add_action('login_enqueue_scripts', function() {
    ?>
    <style>
        .login h1 a {
            background-image: url(<?php echo get_stylesheet_directory_uri(); ?>/assets/images/logo.svg);
        }
    </style>
    <?php
});
```

<Tip>
Always use appropriate priority (third parameter) when multiple functions hook into the same action/filter.
</Tip>
