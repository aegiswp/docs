---
title: "Conditional Logic"
description: "Control content visibility based on configurable rules"
---

## Overview

Aegis includes a unified Conditional Logic system that controls content visibility on the frontend based on configurable rules. Conditions can be applied to any post type with the block editor, as well as to [Hook Patterns](/features/hook-patterns).

The Conditional Logic editor appears as a **Conditionals** meta box in the block editor sidebar. When conditions are set, the frontend evaluates all rules before rendering — if any condition fails, the content is hidden.

## Admin Panel Settings

Condition groups are managed under **Aegis → Conditionals** in the admin panel. Each group can be independently enabled or disabled.

| Group | Conditions Included |
|-------|-------------------|
| **Visibility** | Lockdown, Screen Size, Browser & Device |
| **User** | User Status, User Role, Specific Users |
| **Schedule** | Date & Time scheduling |
| **Pro Conditions** | Cookie, Referral, ACF, MetaBox, Post Meta, User Meta |

Disabling a group hides its section from the editor UI across all post types.

## Free Conditions

### Lockdown

Completely hide content from the frontend. Useful for draft-like behavior on published posts.

### User Status

Show or hide content based on whether the visitor is logged in or logged out.

### User Role

Target specific WordPress user roles (Administrator, Editor, Author, Subscriber, etc.).

### Date & Time

Schedule content visibility with start and end dates. Supports date-only and date+time ranges.

### Screen Size

Show or hide content based on viewport width breakpoints (mobile, tablet, desktop).

### Browser & Device

Target specific browsers (Chrome, Firefox, Safari, Edge) or device types (desktop, mobile, tablet).

### URL Query String

Match against URL query parameters. Useful for campaign tracking or A/B testing.

### Specific Users

Target individual users by ID. Show content only to selected users.

### Location (Hook Patterns Only)

Restrict hook patterns to specific pages, posts, post types, taxonomies, or archive pages.

## Pro Conditions

<Note>
These conditions require the [Aegis Pro](/plugins/aegis-pro) plugin.
</Note>

### Cookie

Show or hide content based on browser cookie values.

### Referral Source

Target visitors arriving from specific referral URLs or domains.

### ACF Field

Evaluate Advanced Custom Fields values. Requires ACF plugin.

### MetaBox Field

Evaluate Meta Box plugin field values. Requires Meta Box plugin.

### Post Meta

Check arbitrary post meta values with comparison operators.

### User Meta

Check current user's meta values with comparison operators.

### Advanced Location (Hook Patterns Only)

Extended location rules with taxonomy term matching, custom post type archives, and template conditions.

## Frontend Evaluation

Conditions are evaluated server-side before content reaches the browser:

- **Hook patterns** — The `HookPatternsRenderer::should_render_pattern()` method checks all conditions before outputting the pattern at its hook location.
- **Pages and posts** — A `render_block` filter on `core/post-content` (priority 9) evaluates the post's conditions. If any condition fails, the entire post content is replaced with an empty string.

Post-level conditions work independently of the Hook Patterns enabled setting — they are always active when conditions are configured.

## Data Storage

Conditions are stored as JSON in the `_aegis_conditions` post meta key:

```json
{
  "lockdown": false,
  "userStatus": "logged_in",
  "userRoles": ["administrator", "editor"],
  "schedule": {
    "start": "2025-01-01T00:00",
    "end": "2025-12-31T23:59"
  }
}
```
