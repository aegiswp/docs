---
title: "Advanced Custom Fields"
description: "ACF integration with JSON paths and Block Bindings"
---

## Overview

Aegis provides Advanced Custom Fields (ACF) integration including JSON save/load paths, theme color palette integration, and Block Bindings support for Query Loop.

## Features

- ACF JSON save/load paths for version control
- Theme color palette in ACF fields
- Block Bindings source for Query Loop
- Consistent field styling
- ACF block support with Aegis design tokens

### ACF Block Support

Aegis ensures ACF-registered blocks work seamlessly within the theme's design system:

- ACF blocks inherit Aegis design tokens (colors, spacing, typography)
- Block styles are consistent with core and custom blocks
- Editor preview matches frontend rendering

### Field Group Compatibility

ACF field groups work with all Aegis templates and template parts:

- Fields display correctly in the block editor sidebar
- Custom field data is accessible in patterns and templates
- Conditional logic works with Aegis block variations

## ACF JSON

Aegis configures ACF JSON paths for version control:

### Save Path

Field groups are saved to the theme:

```php
// acf-json/ directory in theme
add_filter('acf/settings/save_json', function($path) {
    return get_stylesheet_directory() . '/acf-json';
});
```

### Load Path

Field groups load from theme and child theme:

```php
add_filter('acf/settings/load_json', function($paths) {
    $paths[] = get_stylesheet_directory() . '/acf-json';
    $paths[] = get_template_directory() . '/acf-json';
    return $paths;
});
```

## Color Palette Integration

ACF color picker fields can use the Aegis color palette:

```php
// Register theme colors with ACF
add_filter('acf/input/admin_footer', function() {
    ?>
    <script>
    acf.add_filter('color_picker_args', function(args) {
        args.palettes = [
            '#6c757d', // primary-500
            '#495057', // primary-600
            '#f8f9fa', // neutral-0
            '#50555b', // neutral-600
            // ... more colors
        ];
        return args;
    });
    </script>
    <?php
});
```

## Block Bindings

Aegis registers ACF as a Block Bindings source for dynamic content in Query Loop:

### Usage

Bind block attributes to ACF fields:

```html
<!-- wp:paragraph {"metadata":{"bindings":{"content":{"source":"acf/field","args":{"key":"custom_field"}}}}} -->
<p></p>
<!-- /wp:paragraph -->
```

### Supported Bindings

- Text fields → Paragraph, Heading content
- Image fields → Image src
- URL fields → Button href
- Number fields → Counter values

## Field Styling

ACF fields inherit Aegis form styling:

```css
.acf-field input[type="text"],
.acf-field textarea,
.acf-field select {
    border: 1px solid var(--wp--custom--border--color);
    border-radius: var(--wp--custom--border--radius);
}
```

## Usage

### In Templates

Access ACF fields in block templates using ACF's block bindings or shortcodes:

```html
<!-- Using ACF block -->
<!-- wp:acf/my-custom-block /-->
```

### In Patterns

ACF fields can be referenced in patterns using PHP:

```php
<?php if ( function_exists( 'get_field' ) ) : ?>
  <p><?php echo esc_html( get_field( 'custom_field' ) ); ?></p>
<?php endif; ?>
```

## Best Practices

<Tip>
Store ACF field groups in the `acf-json/` directory for version control and easier deployment.
</Tip>

- Use consistent field naming conventions
- Group related fields logically
- Test block bindings in Query Loop context
- Provide fallback content for bound fields

## Framework Implementation

The ACF integration is handled by `Integrations\AdvancedCustomFields` in the Aegis framework.
